# Package Audit Dashboard - Host Access Configuration
# This file configures the application for HOST SYSTEM access from Docker

# ====================================
# Host Access Configuration
# ====================================

# Enable host access mode
ENABLE_HOST_ACCESS=true

# Host execution mode: 
# - "docker" (default): Execute commands on host via Docker socket
# - "ssh": Execute commands on host via SSH
# - "direct": Direct execution (only when running natively)
HOST_EXECUTION_MODE=docker

# Host data directory (will be mounted in container)
# Windows: Use forward slashes, e.g., C:/Users/YourName/PackageAuditData
# Linux/macOS/WSL: Use absolute path, e.g., /home/username/PackageAuditData
HOST_DATA_DIR=./data

# ====================================
# Docker Configuration
# ====================================

# Docker network mode:
# - "bridge" (default): Standard Docker networking
# - "host": Direct host network access (Linux only)
DOCKER_NETWORK_MODE=bridge

# Enable privileged mode (required for some host operations)
# WARNING: Only enable if you trust the container
DOCKER_PRIVILEGED=false

# ====================================
# SSH Configuration (for HOST_EXECUTION_MODE=ssh)
# ====================================

# SSH host (usually localhost or host.docker.internal)
SSH_HOST=host.docker.internal

# SSH port
SSH_PORT=22

# SSH username
SSH_USER=${USER}

# SSH key path (mounted from host)
SSH_KEY_PATH=/host/.ssh/id_rsa

# ====================================
# Windows-Specific Configuration
# ====================================

# Windows user profile directory
# Example: C:/Users/YourName
WINDOWS_USER_PROFILE=${USERPROFILE}

# Windows Program Files directory
WINDOWS_PROGRAMFILES=${PROGRAMFILES}

# Windows System32 directory
WINDOWS_SYSTEM32=${SYSTEMROOT}/System32

# Enable Windows PowerShell execution
ENABLE_POWERSHELL=true

# Enable Windows CMD execution
ENABLE_CMD=true

# ====================================
# WSL2-Specific Configuration
# ====================================

# WSL2 distribution name
WSL_DISTRO=Ubuntu

# WSL2 interop enabled
WSL_INTEROP=true

# ====================================
# Host Package Manager Paths
# ====================================

# NPM global directory
NPM_GLOBAL_DIR=${HOME}/.npm

# Python user base directory
PYTHON_USER_BASE=${HOME}/.local

# Homebrew directory (macOS/Linux)
HOMEBREW_PREFIX=/usr/local

# Winget directory (Windows)
WINGET_DIR=${LOCALAPPDATA}/Microsoft/WindowsApps

# ====================================
# Backend Configuration
# ====================================

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ====================================
# Storage Configuration
# ====================================

# Data directory (inside container, mapped to HOST_DATA_DIR)
DATA_DIR=/host/data

# Snapshot retention limit
SNAPSHOT_RETENTION=10

# ====================================
# Security Configuration
# ====================================

# Lock timeout (seconds)
LOCK_TIMEOUT=30

# Stale lock detection (seconds)
STALE_LOCK_TIMEOUT=300

# Command execution timeout (seconds)
COMMAND_TIMEOUT=60

# ====================================
# Logging Configuration
# ====================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ====================================
# Development / Testing
# ====================================

# Enable debug mode
DEBUG=false

# ====================================
# Frontend Configuration
# ====================================

# API Base URL
VITE_API_URL=http://localhost:8000

# ====================================
# CLI Tools Configuration
# ====================================

# Enable external CLI tools invocation
ENABLE_CLI_TOOLS=true

# Gemini CLI path (if installed)
GEMINI_CLI_PATH=gemini

# Claude CLI path (if installed)
CLAUDE_CLI_PATH=claude

# OpenAI Codex CLI path (if installed)
CODEX_CLI_PATH=codex

# ====================================
# Notes for Windows Users
# ====================================
# 1. Use forward slashes (/) in paths, not backslashes (\)
# 2. Example: C:/Users/YourName instead of C:\Users\YourName
# 3. For WSL2, mount Windows drives are available at /mnt/c, /mnt/d, etc.
# 4. Ensure Docker Desktop is running with WSL2 backend enabled
# 5. Share the necessary drives in Docker Desktop settings

# ====================================
# Notes for Linux/macOS Users
# ====================================
# 1. Ensure Docker has permission to access mounted directories
# 2. You may need to adjust file permissions for shared directories
# 3. Use absolute paths for HOST_DATA_DIR
# 4. SSH access requires SSH server running on host

# ====================================
# Notes for WSL2 Users
# ====================================
# 1. Both Windows and Linux paths can be accessed
# 2. Windows C: drive is mounted at /mnt/c
# 3. WSL home directory is separate from Windows home
# 4. Docker Desktop with WSL2 integration must be enabled
